{"version":3,"file":"index.js","sources":["../../../../../node_modules/regenerator-runtime/runtime.js","../../src/util/semver.js","../../src/util/base64-json.ts","../../src/util/type-guards.ts","../../src/core/sdk-environment.ts","../../src/core/sdk-exceptions.ts","../../src/util/get-payload-id.ts","../../src/core/json-rpc.ts","../../src/util/events.ts","../../node_modules/eventemitter3/index.js","../../src/util/promise-tools.ts","../../src/util/storage.ts","../../src/modules/base-module.ts","../../src/modules/auth.ts","../../src/util/uuid.ts","../../src/util/web-crypto.ts","../../src/modules/user.ts","../../src/modules/rpc-provider.ts","../../src/util/url.ts","../../src/modules/base-extension.ts","../../src/core/sdk.ts","../../src/core/view-controller.ts"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/* eslint-disable */\n/* istanbul ignore file */\n\n// DO NOT CHANGE THIS FILE.\n//\n// We have to bundle `semver` ourselves due to a long-standing cyclic dependency\n// which causes Rollup to break the `satisfies` function.\n//\n// See:\n//   - https://github.com/magiclabs/magic-js/issues/198\n//   - https://github.com/rollup/plugins/issues/879\n//   - https://github.com/npm/node-semver/issues/318\n//   - https://github.com/npm/node-semver/issues/381\n\nfunction createCommonjsModule(e){const r={exports:{}};return e(r,r.exports),r.exports}const SEMVER_SPEC_VERSION=\"2.0.0\",MAX_LENGTH$2=256,MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16,constants={SEMVER_SPEC_VERSION:\"2.0.0\",MAX_LENGTH:256,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$1,MAX_SAFE_COMPONENT_LENGTH:16},debug=\"object\"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error(\"SEMVER\",...e):()=>{},debug_1=debug,re_1=createCommonjsModule(function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t}=constants,s=(r=e.exports={}).re=[],i=r.src=[],o=r.t={};let a=0;const n=(e,r,t)=>{const n=a++;debug_1(n,r),o[e]=n,i[n]=r,s[n]=new RegExp(r,t?\"g\":void 0)};n(\"NUMERICIDENTIFIER\",\"0|[1-9]\\\\d*\"),n(\"NUMERICIDENTIFIERLOOSE\",\"[0-9]+\"),n(\"NONNUMERICIDENTIFIER\",\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\"),n(\"MAINVERSION\",`(${i[o.NUMERICIDENTIFIER]})\\\\.`+`(${i[o.NUMERICIDENTIFIER]})\\\\.`+`(${i[o.NUMERICIDENTIFIER]})`),n(\"MAINVERSIONLOOSE\",`(${i[o.NUMERICIDENTIFIERLOOSE]})\\\\.`+`(${i[o.NUMERICIDENTIFIERLOOSE]})\\\\.`+`(${i[o.NUMERICIDENTIFIERLOOSE]})`),n(\"PRERELEASEIDENTIFIER\",`(?:${i[o.NUMERICIDENTIFIER]}|${i[o.NONNUMERICIDENTIFIER]})`),n(\"PRERELEASEIDENTIFIERLOOSE\",`(?:${i[o.NUMERICIDENTIFIERLOOSE]}|${i[o.NONNUMERICIDENTIFIER]})`),n(\"PRERELEASE\",`(?:-(${i[o.PRERELEASEIDENTIFIER]}(?:\\\\.${i[o.PRERELEASEIDENTIFIER]})*))`),n(\"PRERELEASELOOSE\",`(?:-?(${i[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${i[o.PRERELEASEIDENTIFIERLOOSE]})*))`),n(\"BUILDIDENTIFIER\",\"[0-9A-Za-z-]+\"),n(\"BUILD\",`(?:\\\\+(${i[o.BUILDIDENTIFIER]}(?:\\\\.${i[o.BUILDIDENTIFIER]})*))`),n(\"FULLPLAIN\",`v?${i[o.MAINVERSION]}${i[o.PRERELEASE]}?${i[o.BUILD]}?`),n(\"FULL\",`^${i[o.FULLPLAIN]}$`),n(\"LOOSEPLAIN\",`[v=\\\\s]*${i[o.MAINVERSIONLOOSE]}${i[o.PRERELEASELOOSE]}?${i[o.BUILD]}?`),n(\"LOOSE\",`^${i[o.LOOSEPLAIN]}$`),n(\"GTLT\",\"((?:<|>)?=?)\"),n(\"XRANGEIDENTIFIERLOOSE\",`${i[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`),n(\"XRANGEIDENTIFIER\",`${i[o.NUMERICIDENTIFIER]}|x|X|\\\\*`),n(\"XRANGEPLAIN\",`[v=\\\\s]*(${i[o.XRANGEIDENTIFIER]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIER]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIER]})`+`(?:${i[o.PRERELEASE]})?${i[o.BUILD]}?`+\")?)?\"),n(\"XRANGEPLAINLOOSE\",`[v=\\\\s]*(${i[o.XRANGEIDENTIFIERLOOSE]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIERLOOSE]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIERLOOSE]})`+`(?:${i[o.PRERELEASELOOSE]})?${i[o.BUILD]}?`+\")?)?\"),n(\"XRANGE\",`^${i[o.GTLT]}\\\\s*${i[o.XRANGEPLAIN]}$`),n(\"XRANGELOOSE\",`^${i[o.GTLT]}\\\\s*${i[o.XRANGEPLAINLOOSE]}$`),n(\"COERCE\",`(^|[^\\\\d])(\\\\d{1,${t}})`+`(?:\\\\.(\\\\d{1,${t}}))?`+`(?:\\\\.(\\\\d{1,${t}}))?`+\"(?:$|[^\\\\d])\"),n(\"COERCERTL\",i[o.COERCE],!0),n(\"LONETILDE\",\"(?:~>?)\"),n(\"TILDETRIM\",`(\\\\s*)${i[o.LONETILDE]}\\\\s+`,!0),r.tildeTrimReplace=\"$1~\",n(\"TILDE\",`^${i[o.LONETILDE]}${i[o.XRANGEPLAIN]}$`),n(\"TILDELOOSE\",`^${i[o.LONETILDE]}${i[o.XRANGEPLAINLOOSE]}$`),n(\"LONECARET\",\"(?:\\\\^)\"),n(\"CARETTRIM\",`(\\\\s*)${i[o.LONECARET]}\\\\s+`,!0),r.caretTrimReplace=\"$1^\",n(\"CARET\",`^${i[o.LONECARET]}${i[o.XRANGEPLAIN]}$`),n(\"CARETLOOSE\",`^${i[o.LONECARET]}${i[o.XRANGEPLAINLOOSE]}$`),n(\"COMPARATORLOOSE\",`^${i[o.GTLT]}\\\\s*(${i[o.LOOSEPLAIN]})$|^$`),n(\"COMPARATOR\",`^${i[o.GTLT]}\\\\s*(${i[o.FULLPLAIN]})$|^$`),n(\"COMPARATORTRIM\",`(\\\\s*)${i[o.GTLT]}\\\\s*(${i[o.LOOSEPLAIN]}|${i[o.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace=\"$1$2$3\",n(\"HYPHENRANGE\",`^\\\\s*(${i[o.XRANGEPLAIN]})`+\"\\\\s+-\\\\s+\"+`(${i[o.XRANGEPLAIN]})`+\"\\\\s*$\"),n(\"HYPHENRANGELOOSE\",`^\\\\s*(${i[o.XRANGEPLAINLOOSE]})`+\"\\\\s+-\\\\s+\"+`(${i[o.XRANGEPLAINLOOSE]})`+\"\\\\s*$\"),n(\"STAR\",\"(<|>)?=?\\\\s*\\\\*\"),n(\"GTE0\",\"^\\\\s*>=\\\\s*0.0.0\\\\s*$\"),n(\"GTE0PRE\",\"^\\\\s*>=\\\\s*0.0.0-0\\\\s*$\")}),numeric=/^[0-9]+$/,compareIdentifiers$1=(e,r)=>{const t=numeric.test(e),s=numeric.test(r);return t&&s&&(e=+e,r=+r),e===r?0:t&&!s?-1:s&&!t?1:e<r?-1:1},rcompareIdentifiers=(e,r)=>compareIdentifiers$1(r,e),identifiers={compareIdentifiers:compareIdentifiers$1,rcompareIdentifiers:rcompareIdentifiers},{MAX_LENGTH:MAX_LENGTH$1,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER}=constants,{re:re$4,t:t$4}=re_1,{compareIdentifiers:compareIdentifiers}=identifiers;class SemVer{constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof SemVer){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(\"string\"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>MAX_LENGTH$1)throw new TypeError(`version is longer than ${MAX_LENGTH$1} characters`);debug_1(\"SemVer\",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const t=e.trim().match(r.loose?re$4[t$4.LOOSE]:re$4[t$4.FULL]);if(!t)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError(\"Invalid patch version\");t[4]?this.prerelease=t[4].split(\".\").map(e=>{if(/^[0-9]+$/.test(e)){const r=+e;if(r>=0&&r<MAX_SAFE_INTEGER)return r}return e}):this.prerelease=[],this.build=t[5]?t[5].split(\".\"):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(\".\")}`),this.version}toString(){return this.version}compare(e){if(debug_1(\"SemVer.compare\",this.version,this.options,e),!(e instanceof SemVer)){if(\"string\"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),compareIdentifiers(this.major,e.major)||compareIdentifiers(this.minor,e.minor)||compareIdentifiers(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const t=this.prerelease[r],s=e.prerelease[r];if(debug_1(\"prerelease compare\",r,t,s),void 0===t&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===t)return-1;if(t!==s)return compareIdentifiers(t,s)}while(++r)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let r=0;do{const t=this.build[r],s=e.build[r];if(debug_1(\"prerelease compare\",r,t,s),void 0===t&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===t)return-1;if(t!==s)return compareIdentifiers(t,s)}while(++r)}inc(e,r){switch(e){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",r);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",r);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",r),this.inc(\"pre\",r);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",r),this.inc(\"pre\",r);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)\"number\"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}const compare=(e,r,t)=>new SemVer(e,t).compare(new SemVer(r,t)),compare_1=compare,eq=(e,r,t)=>0===compare_1(e,r,t),eq_1=eq,neq=(e,r,t)=>0!==compare_1(e,r,t),neq_1=neq,gt=(e,r,t)=>compare_1(e,r,t)>0,gt_1=gt,gte=(e,r,t)=>compare_1(e,r,t)>=0,gte_1=gte,lt=(e,r,t)=>compare_1(e,r,t)<0,lt_1=lt,lte=(e,r,t)=>compare_1(e,r,t)<=0,lte_1=lte,cmp=(e,r,t,s)=>{switch(r){case\"===\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof t&&(t=t.version),e===t;case\"!==\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof t&&(t=t.version),e!==t;case\"\":case\"=\":case\"==\":return eq_1(e,t,s);case\"!=\":return neq_1(e,t,s);case\">\":return gt_1(e,t,s);case\">=\":return gte_1(e,t,s);case\"<\":return lt_1(e,t,s);case\"<=\":return lte_1(e,t,s);default:throw new TypeError(`Invalid operator: ${r}`)}},cmp_1=cmp,ANY=Symbol(\"SemVer ANY\");class Comparator{static get ANY(){return ANY}constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof Comparator){if(e.loose===!!r.loose)return e;e=e.value}debug_1(\"comparator\",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ANY?this.value=\"\":this.value=this.operator+this.semver.version,debug_1(\"comp\",this)}parse(e){const r=this.options.loose?re$3[t$3.COMPARATORLOOSE]:re$3[t$3.COMPARATOR],t=e.match(r);if(!t)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==t[1]?t[1]:\"\",\"=\"===this.operator&&(this.operator=\"\"),t[2]?this.semver=new SemVer(t[2],this.options.loose):this.semver=ANY}toString(){return this.value}test(e){if(debug_1(\"Comparator.test\",e,this.options.loose),this.semver===ANY||e===ANY)return!0;if(\"string\"==typeof e)try{e=new SemVer(e,this.options)}catch(e){return!1}return cmp_1(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Comparator))throw new TypeError(\"a Comparator is required\");if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),\"\"===this.operator)return\"\"===this.value||new Range(e.value,r).test(this.value);if(\"\"===e.operator)return\"\"===e.value||new Range(this.value,r).test(e.semver);const t=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==e.operator&&\">\"!==e.operator),s=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==e.operator&&\"<\"!==e.operator),i=this.semver.version===e.semver.version,o=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==e.operator&&\"<=\"!==e.operator),a=cmp_1(this.semver,\"<\",e.semver,r)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===e.operator||\"<\"===e.operator),n=cmp_1(this.semver,\">\",e.semver,r)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===e.operator||\">\"===e.operator);return t||s||i&&o||a||n}}const{re:re$3,t:t$3}=re_1;class Range{constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof Range)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Range(e.raw,r);if(e instanceof Comparator)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\\s*\\|\\|\\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);this.format()}format(){return this.range=this.set.map(e=>e.join(\" \").trim()).join(\"||\").trim(),this.range}toString(){return this.range}parseRange(e){const{loose:r}=this.options;e=e.trim();const t=r?re$2[t$2.HYPHENRANGELOOSE]:re$2[t$2.HYPHENRANGE];e=e.replace(t,hyphenReplace(this.options.includePrerelease)),debug_1(\"hyphen replace\",e),e=e.replace(re$2[t$2.COMPARATORTRIM],comparatorTrimReplace),debug_1(\"comparator trim\",e,re$2[t$2.COMPARATORTRIM]),e=(e=(e=e.replace(re$2[t$2.TILDETRIM],tildeTrimReplace)).replace(re$2[t$2.CARETTRIM],caretTrimReplace)).split(/\\s+/).join(\" \");const s=r?re$2[t$2.COMPARATORLOOSE]:re$2[t$2.COMPARATOR];return e.split(\" \").map(e=>parseComparator(e,this.options)).join(\" \").split(/\\s+/).map(e=>replaceGTE0(e,this.options)).filter(this.options.loose?e=>!!e.match(s):()=>!0).map(e=>new Comparator(e,this.options))}intersects(e,r){if(!(e instanceof Range))throw new TypeError(\"a Range is required\");return this.set.some(t=>isSatisfiable(t,r)&&e.set.some(e=>isSatisfiable(e,r)&&t.every(t=>e.every(e=>t.intersects(e,r)))))}test(e){if(!e)return!1;if(\"string\"==typeof e)try{e=new SemVer(e,this.options)}catch(e){return!1}for(let r=0;r<this.set.length;r++)if(testSet(this.set[r],e,this.options))return!0;return!1}}const{re:re$2,t:t$2,comparatorTrimReplace:comparatorTrimReplace,tildeTrimReplace:tildeTrimReplace,caretTrimReplace:caretTrimReplace}=re_1,isSatisfiable=(e,r)=>{let t=!0;const s=e.slice();let i=s.pop();for(;t&&s.length;)t=s.every(e=>i.intersects(e,r)),i=s.pop();return t},parseComparator=(e,r)=>(debug_1(\"comp\",e,r),e=replaceCarets(e,r),debug_1(\"caret\",e),e=replaceTildes(e,r),debug_1(\"tildes\",e),e=replaceXRanges(e,r),debug_1(\"xrange\",e),e=replaceStars(e,r),debug_1(\"stars\",e),e),isX=e=>!e||\"x\"===e.toLowerCase()||\"*\"===e,replaceTildes=(e,r)=>e.trim().split(/\\s+/).map(e=>replaceTilde(e,r)).join(\" \"),replaceTilde=(e,r)=>{const t=r.loose?re$2[t$2.TILDELOOSE]:re$2[t$2.TILDE];return e.replace(t,(r,t,s,i,o)=>{let a;return debug_1(\"tilde\",e,r,t,s,i,o),isX(t)?a=\"\":isX(s)?a=`>=${t}.0.0 <${+t+1}.0.0-0`:isX(i)?a=`>=${t}.${s}.0 <${t}.${+s+1}.0-0`:o?(debug_1(\"replaceTilde pr\",o),a=`>=${t}.${s}.${i}-${o} <${t}.${+s+1}.0-0`):a=`>=${t}.${s}.${i} <${t}.${+s+1}.0-0`,debug_1(\"tilde return\",a),a})},replaceCarets=(e,r)=>e.trim().split(/\\s+/).map(e=>replaceCaret(e,r)).join(\" \"),replaceCaret=(e,r)=>{debug_1(\"caret\",e,r);const t=r.loose?re$2[t$2.CARETLOOSE]:re$2[t$2.CARET],s=r.includePrerelease?\"-0\":\"\";return e.replace(t,(r,t,i,o,a)=>{let n;return debug_1(\"caret\",e,r,t,i,o,a),isX(t)?n=\"\":isX(i)?n=`>=${t}.0.0${s} <${+t+1}.0.0-0`:isX(o)?n=\"0\"===t?`>=${t}.${i}.0${s} <${t}.${+i+1}.0-0`:`>=${t}.${i}.0${s} <${+t+1}.0.0-0`:a?(debug_1(\"replaceCaret pr\",a),n=\"0\"===t?\"0\"===i?`>=${t}.${i}.${o}-${a} <${t}.${i}.${+o+1}-0`:`>=${t}.${i}.${o}-${a} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${o}-${a} <${+t+1}.0.0-0`):(debug_1(\"no pr\"),n=\"0\"===t?\"0\"===i?`>=${t}.${i}.${o}${s} <${t}.${i}.${+o+1}-0`:`>=${t}.${i}.${o}${s} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${o} <${+t+1}.0.0-0`),debug_1(\"caret return\",n),n})},replaceXRanges=(e,r)=>(debug_1(\"replaceXRanges\",e,r),e.split(/\\s+/).map(e=>replaceXRange(e,r)).join(\" \")),replaceXRange=(e,r)=>{e=e.trim();const t=r.loose?re$2[t$2.XRANGELOOSE]:re$2[t$2.XRANGE];return e.replace(t,(t,s,i,o,a,n)=>{debug_1(\"xRange\",e,t,s,i,o,a,n);const E=isX(i),p=E||isX(o),l=p||isX(a),c=l;return\"=\"===s&&c&&(s=\"\"),n=r.includePrerelease?\"-0\":\"\",E?t=\">\"===s||\"<\"===s?\"<0.0.0-0\":\"*\":s&&c?(p&&(o=0),a=0,\">\"===s?(s=\">=\",p?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):\"<=\"===s&&(s=\"<\",p?i=+i+1:o=+o+1),\"<\"===s&&(n=\"-0\"),t=`${s+i}.${o}.${a}${n}`):p?t=`>=${i}.0.0${n} <${+i+1}.0.0-0`:l&&(t=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`),debug_1(\"xRange return\",t),t})},replaceStars=(e,r)=>(debug_1(\"replaceStars\",e,r),e.trim().replace(re$2[t$2.STAR],\"\")),replaceGTE0=(e,r)=>(debug_1(\"replaceGTE0\",e,r),e.trim().replace(re$2[r.includePrerelease?t$2.GTE0PRE:t$2.GTE0],\"\")),hyphenReplace=e=>(r,t,s,i,o,a,n,E,p,l,c,$,h)=>`${t=isX(s)?\"\":isX(i)?`>=${s}.0.0${e?\"-0\":\"\"}`:isX(o)?`>=${s}.${i}.0${e?\"-0\":\"\"}`:a?`>=${t}`:`>=${t}${e?\"-0\":\"\"}`} ${E=isX(p)?\"\":isX(l)?`<${+p+1}.0.0-0`:isX(c)?`<${p}.${+l+1}.0-0`:$?`<=${p}.${l}.${c}-${$}`:e?`<${p}.${l}.${+c+1}-0`:`<=${E}`}`.trim(),testSet=(e,r,t)=>{for(let t=0;t<e.length;t++)if(!e[t].test(r))return!1;if(r.prerelease.length&&!t.includePrerelease){for(let t=0;t<e.length;t++)if(debug_1(e[t].semver),e[t].semver!==Comparator.ANY&&e[t].semver.prerelease.length>0){const s=e[t].semver;if(s.major===r.major&&s.minor===r.minor&&s.patch===r.patch)return!0}return!1}return!0};export const satisfies=(e,r,t)=>{try{r=new Range(r,t)}catch(e){return!1}return r.test(e)};const satisfies_1=satisfies,{MAX_LENGTH:MAX_LENGTH}=constants,{re:re$1,t:t$1}=re_1,parse=(e,r)=>{if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof SemVer)return e;if(\"string\"!=typeof e)return null;if(e.length>MAX_LENGTH)return null;if(!(r.loose?re$1[t$1.LOOSE]:re$1[t$1.FULL]).test(e))return null;try{return new SemVer(e,r)}catch(e){return null}},parse_1=parse,{re:re,t:t}=re_1;export const coerce=(e,r)=>{if(e instanceof SemVer)return e;if(\"number\"==typeof e&&(e=String(e)),\"string\"!=typeof e)return null;let s=null;if((r=r||{}).rtl){let r;for(;(r=re[t.COERCERTL].exec(e))&&(!s||s.index+s[0].length!==e.length);)s&&r.index+r[0].length===s.index+s[0].length||(s=r),re[t.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;re[t.COERCERTL].lastIndex=-1}else s=e.match(re[t.COERCE]);return null===s?null:parse_1(`${s[2]}.${s[3]||\"0\"}.${s[4]||\"0\"}`,r)};\n","function percentToByte(p: string) {\n  return String.fromCharCode(parseInt(p.slice(1), 16));\n}\n\nfunction byteToPercent(b: string) {\n  return `%${`00${b.charCodeAt(0).toString(16)}`.slice(-2)}`;\n}\n\n/**\n * Encodes a Base64 string. Safe for UTF-8 characters.\n * Original source is from the `universal-base64` NPM package.\n *\n * @source https://github.com/blakeembrey/universal-base64/blob/master/src/browser.ts\n */\nfunction btoaUTF8(str: string): string {\n  return btoa(encodeURIComponent(str).replace(/%[0-9A-F]{2}/g, percentToByte));\n}\n\n/**\n * Decodes a Base64 string. Safe for UTF-8 characters.\n * Original source is from the `universal-base64` NPM package.\n *\n * @source https://github.com/blakeembrey/universal-base64/blob/master/src/browser.ts\n */\nfunction atobUTF8(str: string): string {\n  return decodeURIComponent(Array.from(atob(str), byteToPercent).join(''));\n}\n\n/**\n * Given a JSON-serializable object, encode as a Base64 string.\n */\nexport function encodeJSON<T>(options: T): string {\n  return btoaUTF8(JSON.stringify(options));\n}\n\n/**\n * Given a Base64 JSON string, decode a JavaScript object.\n */\nexport function decodeJSON<T>(queryString: string): T {\n  return JSON.parse(atobUTF8(queryString));\n}\n","/**\n * This file contains our type guards.\n *\n * Type guards are a feature of TypeScript which narrow the type signature of\n * intesection types (types that can be one thing or another).\n *\n * @see\n * https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types\n */\n\nimport { JsonRpcRequestPayload, JsonRpcResponsePayload, MagicPayloadMethod, RPCErrorCode } from '@magic-sdk/types';\n\n/**\n * Assert `value` is `undefined`.\n */\nfunction isUndefined(value: any): value is undefined {\n  return typeof value === 'undefined';\n}\n\n/**\n * Assert `value` is `null`.\n */\nfunction isNull(value: any): value is null {\n  return value === null;\n}\n\n/**\n * Assert `value` is `null` or `undefined`.\n */\nfunction isNil(value: any): value is null | undefined {\n  return isNull(value) || isUndefined(value);\n}\n\n/**\n * Assert `value` is a `JsonRpcRequestPayload` object.\n */\nexport function isJsonRpcRequestPayload(value?: JsonRpcRequestPayload): value is JsonRpcRequestPayload {\n  if (isNil(value)) return false;\n  return (\n    !isUndefined(value.jsonrpc) && !isUndefined(value.id) && !isUndefined(value.method) && !isUndefined(value.params)\n  );\n}\n\n/**\n * Assert `value` is a `JsonRpcResponsePayload` object.\n */\nexport function isJsonRpcResponsePayload(value: any): value is JsonRpcResponsePayload {\n  if (isNil(value)) return false;\n  return (\n    !isUndefined(value.jsonrpc) && !isUndefined(value.id) && (!isUndefined(value.result) || !isUndefined(value.error))\n  );\n}\n\n/**\n * Assert `value` is a Magic SDK payload method identifier.\n */\nexport function isMagicPayloadMethod(value?: any): value is MagicPayloadMethod {\n  if (isNil(value)) return false;\n  return typeof value === 'string' && Object.values(MagicPayloadMethod).includes(value as any);\n}\n\n/**\n * Assert `value` is an expected JSON RPC error code.\n */\nexport function isJsonRpcErrorCode(value?: any): value is RPCErrorCode {\n  if (isNil(value)) return false;\n  return typeof value === 'number' && Object.values(RPCErrorCode).includes(value);\n}\n\n/**\n * Assert `value` is an empty, plain object.\n */\nexport function isEmpty(value?: any): value is {} {\n  if (!value) return true;\n\n  for (const key in value) {\n    /* istanbul ignore else */\n    if (Object.hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import type localForage from 'localforage';\nimport type { ViewController } from './view-controller';\nimport type { SDKBase } from './sdk';\nimport type { WithExtensions } from '../modules/base-extension';\n\ntype ConstructorOf<C> = { new (...args: any[]): C };\n\n/**\n * A structure containing details about the current environment.\n * This is guaranteed to be populated before the SDK is instantiated.\n */\nexport interface SDKEnvironment {\n  sdkName: 'magic-sdk' | '@magic-sdk/react-native';\n  version: string;\n  platform: 'web' | 'react-native';\n  defaultEndpoint: string;\n  ViewController: ConstructorOf<ViewController>;\n  configureStorage: () => Promise<typeof localForage>;\n}\n\nexport const SDKEnvironment: SDKEnvironment = {} as any;\n\nexport function createSDK<SDK extends SDKBase>(\n  SDKBaseCtor: ConstructorOf<SDK>,\n  environment: SDKEnvironment,\n): WithExtensions<SDK> {\n  Object.assign(SDKEnvironment, environment);\n  return SDKBaseCtor as any;\n}\n\nexport const sdkNameToEnvName = {\n  'magic-sdk': 'magic-sdk' as const,\n  '@magic-sdk/react-native': 'magic-sdk-rn' as const,\n};\n","import { JsonRpcError, RPCErrorCode, SDKErrorCode, SDKWarningCode } from '@magic-sdk/types';\nimport { isJsonRpcErrorCode } from '../util/type-guards';\nimport { SDKEnvironment } from './sdk-environment';\nimport { Extension } from '../modules/base-extension';\n\n// --- Error/warning classes\n\n/**\n * This error type represents internal SDK errors. This could be developer\n * mistakes (or Magic's mistakes), or execution errors unrelated to standard\n * JavaScript exceptions.\n */\nexport class MagicSDKError extends Error {\n  __proto__ = Error;\n\n  constructor(public code: SDKErrorCode, public rawMessage: string) {\n    super(`Magic SDK Error: [${code}] ${rawMessage}`);\n    Object.setPrototypeOf(this, MagicSDKError.prototype);\n  }\n}\n\n/**\n * This error type communicates exceptions that occur during execution in the\n * Magic `<iframe>` context.\n */\nexport class MagicRPCError extends Error {\n  __proto__ = Error;\n\n  public code: RPCErrorCode | number;\n  public rawMessage: string;\n\n  constructor(sourceError?: JsonRpcError | null) {\n    super();\n\n    const codeNormalized = Number(sourceError?.code);\n    this.rawMessage = sourceError?.message || 'Internal error';\n    this.code = isJsonRpcErrorCode(codeNormalized) ? codeNormalized : RPCErrorCode.InternalError;\n    this.message = `Magic RPC Error: [${this.code}] ${this.rawMessage}`;\n\n    Object.setPrototypeOf(this, MagicRPCError.prototype);\n  }\n}\n\n/**\n * In contrast to `SDKError` objects, this \"warning\" type communicates important\n * context that does not rise to the level of an exception. These should be\n * logged rather than thrown.\n */\nexport class MagicSDKWarning {\n  public message: string;\n\n  constructor(public code: SDKWarningCode, public rawMessage: string) {\n    this.message = `Magic SDK Warning: [${code}] ${rawMessage}`;\n  }\n\n  /**\n   * Logs this warning to the console.\n   */\n  public log() {\n    console.warn(this.message);\n  }\n}\n\n/**\n * This error type is reserved for communicating errors that arise during\n * execution of Magic SDK Extension methods. Compare this to the `SDKError`\n * type, specifically in context of Extensions.\n */\nexport class MagicExtensionError<TData = any> extends Error {\n  __proto__ = Error;\n\n  constructor(ext: Extension<string>, public code: string | number, public rawMessage: string, public data: TData) {\n    super(`Magic Extension Error (${ext.name}): [${code}] ${rawMessage}`);\n    Object.setPrototypeOf(this, MagicExtensionError.prototype);\n  }\n}\n\n/**\n * In contrast to `MagicExtensionError` objects, this \"warning\" type\n * communicates important context that does not rise to the level of an\n * exception. These should be logged rather than thrown.\n */\nexport class MagicExtensionWarning {\n  public message: string;\n\n  constructor(ext: Extension<string>, public code: string | number, public rawMessage: string) {\n    this.message = `Magic Extension Warning (${ext.name}): [${code}] ${rawMessage}`;\n  }\n\n  /**\n   * Logs this warning to the console.\n   */\n  public log() {\n    console.warn(this.message);\n  }\n}\n\n// --- SDK error factories\n\nexport function createMissingApiKeyError() {\n  return new MagicSDKError(\n    SDKErrorCode.MissingApiKey,\n    'Please provide an API key that you acquired from the Magic developer dashboard.',\n  );\n}\n\nexport function createModalNotReadyError() {\n  return new MagicSDKError(SDKErrorCode.ModalNotReady, 'Modal is not ready.');\n}\n\nexport function createMalformedResponseError() {\n  return new MagicSDKError(SDKErrorCode.MalformedResponse, 'Response from the Magic iframe is malformed.');\n}\n\nexport function createExtensionNotInitializedError(member: string) {\n  return new MagicSDKError(\n    SDKErrorCode.ExtensionNotInitialized,\n    `Extensions must be initialized with a Magic SDK instance before \\`Extension.${member}\\` can be accessed. Do not invoke \\`Extension.${member}\\` inside an extension constructor.`,\n  );\n}\n\nexport function createIncompatibleExtensionsError(extensions: Extension<string>[]) {\n  let msg = `Some extensions are incompatible with \\`${SDKEnvironment.sdkName}@${SDKEnvironment.version}\\`:`;\n\n  extensions\n    .filter((ext) => typeof ext.compat !== 'undefined' && ext.compat !== null)\n    .forEach((ext) => {\n      const compat = ext.compat![SDKEnvironment.sdkName];\n\n      /* istanbul ignore else */\n      if (typeof compat === 'string') {\n        msg += `\\n  - Extension \\`${ext.name}\\` supports version(s) \\`${compat}\\``;\n      } else if (!compat) {\n        msg += `\\n  - Extension \\`${ext.name}\\` does not support ${SDKEnvironment.platform} environments.`;\n      }\n\n      // Else case is irrelevant here here\n      // (we filter out extensions with missing `compat` field)\n    });\n\n  return new MagicSDKError(SDKErrorCode.IncompatibleExtensions, msg);\n}\n\nexport function createInvalidArgumentError(options: {\n  procedure: string;\n  argument: number;\n  expected: string;\n  received: string;\n}) {\n  /**\n   * Parses the argument index (given by `argument`) to attach the correct ordinal suffix.\n   * (i.e.: 1st, 2nd, 3rd, 4th, etc.)\n   */\n  const ordinalSuffix = (i: number) => {\n    const iAdjusted = i + 1; // Argument is zero-indexed.\n    const j = iAdjusted % 10;\n    const k = iAdjusted % 100;\n    if (j === 1 && k !== 11) return `${iAdjusted}st`;\n    if (j === 2 && k !== 12) return `${iAdjusted}nd`;\n    if (j === 3 && k !== 13) return `${iAdjusted}rd`;\n    return `${iAdjusted}th`;\n  };\n\n  return new MagicSDKError(\n    SDKErrorCode.InvalidArgument,\n    `Invalid ${ordinalSuffix(options.argument)} argument given to \\`${options.procedure}\\`.\\n` +\n      `  Expected: \\`${options.expected}\\`\\n` +\n      `  Received: \\`${options.received}\\``,\n  );\n}\n\n// --- SDK warning factories\n\nexport function createDuplicateIframeWarning() {\n  return new MagicSDKWarning(SDKWarningCode.DuplicateIframe, 'Duplicate iframes found.');\n}\n\nexport function createSynchronousWeb3MethodWarning() {\n  return new MagicSDKWarning(\n    SDKWarningCode.SyncWeb3Method,\n    'Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.',\n  );\n}\n\nexport function createReactNativeEndpointConfigurationWarning() {\n  return new MagicSDKWarning(\n    SDKWarningCode.ReactNativeEndpointConfiguration,\n    `CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \\`endpoint\\` parameter SHOULD NOT be provided. The Magic \\`<iframe>\\` is automatically wrapped by a WebView pointed at \\`${SDKEnvironment.defaultEndpoint}\\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`,\n  );\n}\n\nexport function createDeprecationWarning(options: {\n  method: string;\n  removalVersions: { [P in 'magic-sdk' | '@magic-sdk/react-native']: string };\n  useInstead?: string;\n}) {\n  const { method, removalVersions, useInstead } = options;\n\n  const removalVersion = removalVersions[SDKEnvironment.sdkName];\n  const useInsteadSuffix = useInstead ? ` Use \\`${useInstead}\\` instead.` : '';\n  const message = `\\`${method}\\` will be removed from \\`${SDKEnvironment.sdkName}\\` in version \\`${removalVersion}\\`.${useInsteadSuffix}`;\n\n  return new MagicSDKWarning(SDKWarningCode.DeprecationNotice, message);\n}\n","function* createIntGenerator(): Generator<number, number, void> {\n  let index = 0;\n\n  while (true) {\n    /* istanbul ignore next */\n    if (index < Number.MAX_SAFE_INTEGER) yield ++index;\n    else index = 0;\n  }\n}\n\nconst intGenerator = createIntGenerator();\n\n/**\n * Get an integer ID for attaching to a JSON RPC request payload.\n */\nexport function getPayloadId(): number {\n  return intGenerator.next().value;\n}\n","/* eslint-disable no-param-reassign */\n\nimport { JsonRpcRequestPayload, JsonRpcResponsePayload, JsonRpcError } from '@magic-sdk/types';\nimport { isJsonRpcResponsePayload } from '../util/type-guards';\nimport { getPayloadId } from '../util/get-payload-id';\n\nconst payloadPreprocessedSymbol = Symbol('Payload pre-processed by Magic SDK');\n\n/**\n * To avoid \"pre-processing\" a payload more than once (and needlessly\n * incrementing our payload ID generator), we attach a symbol to detect a\n * payloads we've already visited.\n */\nfunction markPayloadAsPreprocessed<T extends Partial<JsonRpcRequestPayload>>(payload: T): T {\n  Object.defineProperty(payload, payloadPreprocessedSymbol, {\n    value: true,\n    enumerable: false,\n  });\n\n  return payload;\n}\n\n/**\n * Returns `true` if the payload has been visited by our \"pre-processing,\" in\n * `standardizeJsonRpcRequestPayload(...)`.\n */\nfunction isPayloadPreprocessed<T extends Partial<JsonRpcRequestPayload>>(payload: T) {\n  return !!(payload as any)[payloadPreprocessedSymbol];\n}\n\n/**\n * Returns a full `JsonRpcRequestPayload` from a potentially incomplete payload\n * object. This method mutates the given `payload` to preserve compatibility\n * with external libraries that perform their own `JsonRpcRequestPayload.id`\n * check to associate responses (such as `web3`).\n *\n * This function is no-op if the payload has already been processed before.\n */\nexport function standardizeJsonRpcRequestPayload(payload: Partial<JsonRpcRequestPayload>) {\n  if (!isPayloadPreprocessed(payload)) {\n    payload.jsonrpc = payload.jsonrpc ?? '2.0';\n    payload.id = getPayloadId();\n    payload.method = payload.method ?? 'noop';\n    payload.params = payload.params ?? [];\n\n    markPayloadAsPreprocessed(payload);\n  }\n\n  /* eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion */\n  return payload as JsonRpcRequestPayload;\n}\n\n/**\n * Build a valid JSON RPC payload for emitting to the Magic SDK iframe relayer.\n */\nexport function createJsonRpcRequestPayload(method: string, params: any[] = []): JsonRpcRequestPayload {\n  return markPayloadAsPreprocessed({\n    params,\n    method,\n    jsonrpc: '2.0',\n    id: getPayloadId(),\n  });\n}\n\n/**\n * Formats and standardizes a JSON RPC 2.0 response from a number of potential\n * sources.\n */\nexport class JsonRpcResponse<ResultType = any> {\n  private readonly _jsonrpc: string;\n  private readonly _id: string | number | null;\n  private _result?: ResultType | null;\n  private _error?: JsonRpcError | null;\n\n  constructor(responsePayload: JsonRpcResponsePayload);\n  constructor(response: JsonRpcResponse<ResultType>);\n  constructor(requestPayload: JsonRpcRequestPayload);\n  constructor(responseOrPayload: JsonRpcResponsePayload | JsonRpcResponse<ResultType> | JsonRpcRequestPayload) {\n    if (responseOrPayload instanceof JsonRpcResponse) {\n      this._jsonrpc = responseOrPayload.payload.jsonrpc;\n      this._id = responseOrPayload.payload.id;\n      this._result = responseOrPayload.payload.result;\n      this._error = responseOrPayload.payload.error;\n    } else if (isJsonRpcResponsePayload(responseOrPayload)) {\n      this._jsonrpc = responseOrPayload.jsonrpc;\n      this._id = responseOrPayload.id;\n      this._result = responseOrPayload.result;\n      this._error = responseOrPayload.error;\n    } else {\n      this._jsonrpc = responseOrPayload.jsonrpc;\n      this._id = responseOrPayload.id;\n      this._result = undefined;\n      this._error = undefined;\n    }\n  }\n\n  public applyError(error?: JsonRpcError | null) {\n    this._error = error;\n    return this;\n  }\n\n  public applyResult(result?: ResultType | null) {\n    this._result = result;\n    return this;\n  }\n\n  public get hasError() {\n    return typeof this._error !== 'undefined' && this._error !== null;\n  }\n\n  public get hasResult() {\n    return typeof this._result !== 'undefined';\n  }\n\n  public get payload(): JsonRpcResponsePayload {\n    return {\n      jsonrpc: this._jsonrpc,\n      id: this._id,\n      result: this._result,\n      error: this._error,\n    };\n  }\n}\n","import EventEmitter from 'eventemitter3';\n\nexport type EventsDefinition = { [K in string | symbol]: (...args: any[]) => void } | void;\n\n/**\n * An extension of `EventEmitter` (provided by `eventemitter3`) with an adjusted\n * type interface that supports the unique structure of Magic SDK modules.\n */\nexport class TypedEmitter<Events extends EventsDefinition = void> extends EventEmitter<\n  Events extends void ? string | symbol : Events\n> {}\n\ntype ChainingMethods = 'on' | 'once' | 'addListener' | 'off' | 'removeListener' | 'removeAllListeners';\ntype NonChainingMethods = 'emit' | 'eventNames' | 'listeners' | 'listenerCount';\n\ntype ReplaceReturnType<T extends (...a: any) => any, TNewReturn> = (...a: Parameters<T>) => TNewReturn;\n\n/**\n * Creates a `TypedEmitter` instance and returns helper functions for easily\n * mixing `TypedEmitter` methods into other objects.\n */\nexport function createTypedEmitter<Events extends EventsDefinition = void>() {\n  const emitter = new TypedEmitter<Events>();\n\n  const createChainingEmitterMethod = <T1 extends ChainingMethods, T2>(\n    method: T1,\n    source: T2,\n  ): ReplaceReturnType<TypedEmitter[T1], T2> => {\n    return (...args: any[]) => {\n      (emitter as any)[method].apply(emitter, args);\n      return source;\n    };\n  };\n\n  const createBoundEmitterMethod = <T extends NonChainingMethods>(method: T): TypedEmitter[T] => {\n    return (...args: any[]) => {\n      return (emitter as any)[method].apply(emitter, args);\n    };\n  };\n\n  return {\n    emitter,\n    createChainingEmitterMethod,\n    createBoundEmitterMethod,\n  };\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { TypedEmitter, EventsDefinition, createTypedEmitter } from './events';\n\n/**\n * Extends `Promise` with a polymorphic `this` type to accomodate arbitrary\n * `Promise` API extensions.\n */\ninterface ExtendedPromise<T> extends Promise<T> {\n  then<TResult1 = T, TResult2 = never>(\n    onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null,\n  ): ExtendedPromise<TResult1 | TResult2> & this;\n\n  catch<TResult = never>(\n    onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | undefined | null,\n  ): ExtendedPromise<T | TResult> & this;\n\n  finally(onfinally?: (() => void) | undefined | null): ExtendedPromise<T> & this;\n}\n\n/**\n * A `Promise` and `EventEmitter` all in one!\n */\nexport type PromiEvent<TResult, TEvents extends EventsDefinition = void> = ExtendedPromise<TResult> &\n  TypedEmitter<TEvents extends void ? DefaultEvents<TResult> : TEvents & DefaultEvents<TResult>>;\n\n/**\n * Default events attached to every `PromiEvent`.\n */\ntype DefaultEvents<TResult> = {\n  done: (result: TResult) => void;\n  error: (reason: any) => void;\n  settled: () => void;\n};\n\n/**\n * A `Promise` executor with can be optionally asynchronous.\n */\ntype AsyncPromiseExecutor<TResult> = (\n  resolve: (value: TResult | PromiseLike<TResult>) => void,\n  reject: (reason?: any) => void,\n) => void | Promise<void>;\n\nconst promiEventBrand = Symbol('isPromiEvent');\n\n/**\n * Returns `true` if the given `value` is a `PromiEvent`.\n */\nexport function isPromiEvent(value: any): value is PromiEvent<any> {\n  return !!value[promiEventBrand];\n}\n\n/**\n * Create a native JavaScript `Promise` overloaded with strongly-typed methods\n * from `EventEmitter`.\n */\nexport function createPromiEvent<TResult, TEvents extends EventsDefinition = void>(\n  executor: AsyncPromiseExecutor<TResult>,\n): PromiEvent<TResult, TEvents extends void ? DefaultEvents<TResult> : TEvents & DefaultEvents<TResult>> {\n  const promise = createPromise(executor);\n  const { createBoundEmitterMethod, createChainingEmitterMethod } = createTypedEmitter<\n    TEvents & DefaultEvents<TResult>\n  >();\n\n  // We save the original `Promise` methods to the following symbols so we can\n  // access them internally.\n  const thenSymbol = Symbol('Promise.then');\n  const catchSymbol = Symbol('Promise.catch');\n  const finallySymbol = Symbol('Promise.finally');\n\n  /**\n   * Ensures the next object in the `PromiEvent` chain is overloaded with\n   * `EventEmitter` methods.\n   */\n  const createChainingPromiseMethod =\n    (method: typeof thenSymbol | typeof catchSymbol | typeof finallySymbol, source: Promise<any>) =>\n    (...args: any[]) => {\n      const nextPromise = (source as any)[method].apply(source, args);\n      return promiEvent(nextPromise);\n    };\n\n  /**\n   * Builds a `PromiEvent` by assigning `EventEmitter` methods to a native\n   * `Promise` object.\n   */\n  const promiEvent = (source: any) => {\n    return Object.assign(source, {\n      [promiEventBrand]: true,\n\n      [thenSymbol]: source[thenSymbol] || source.then,\n      [catchSymbol]: source[catchSymbol] || source.catch,\n      [finallySymbol]: source[finallySymbol] || source.finally,\n\n      then: createChainingPromiseMethod(thenSymbol, source),\n      catch: createChainingPromiseMethod(catchSymbol, source),\n      finally: createChainingPromiseMethod(finallySymbol, source),\n\n      on: createChainingEmitterMethod('on', source),\n      once: createChainingEmitterMethod('once', source),\n      addListener: createChainingEmitterMethod('addListener', source),\n\n      off: createChainingEmitterMethod('off', source),\n      removeListener: createChainingEmitterMethod('removeListener', source),\n      removeAllListeners: createChainingEmitterMethod('removeAllListeners', source),\n\n      emit: createBoundEmitterMethod('emit'),\n      eventNames: createBoundEmitterMethod('eventNames'),\n      listeners: createBoundEmitterMethod('listeners'),\n      listenerCount: createBoundEmitterMethod('listenerCount'),\n    });\n  };\n\n  const result = promiEvent(\n    promise.then(\n      (resolved) => {\n        // Emit default completion events and resolve result.\n        result.emit('done', resolved);\n        result.emit('settled');\n        return resolved;\n      },\n\n      (err) => {\n        // Emit default error events and re-throw.\n        result.emit('error', err);\n        result.emit('settled');\n        throw err;\n      },\n    ),\n  );\n\n  return result;\n}\n\n/**\n * Creates a `Promise` with an **async executor** that automatically catches\n * errors occurring within the executor. Nesting promises in this way is usually\n * deemed an _anti-pattern_, but it's useful and clean when promisifying the\n * event-based code that's inherent to JSON RPC.\n *\n * So, here we solve the issue of nested promises by ensuring that no errors\n * mistakenly go unhandled!\n */\nexport function createPromise<TResult>(executor: AsyncPromiseExecutor<TResult>) {\n  return new Promise<TResult>((resolve, reject) => {\n    const result = executor(resolve, reject);\n    Promise.resolve(result).catch(reject);\n  });\n}\n","import { SDKEnvironment } from '../core/sdk-environment';\n\nlet lf: LocalForage;\n\n/**\n * Proxies `localforage` methods with strong-typing.\n */\nfunction proxyLocalForageMethod<TMethod extends keyof LocalForageDbMethods>(method: TMethod): LocalForage[TMethod] {\n  return async (...args: any[]) => {\n    /* istanbul ignore else */\n    if (!lf) lf = await SDKEnvironment.configureStorage();\n    await lf.ready();\n    return (lf[method] as any)(...args);\n  };\n}\n\nexport const getItem = proxyLocalForageMethod('getItem');\nexport const setItem = proxyLocalForageMethod('setItem');\nexport const removeItem = proxyLocalForageMethod('removeItem');\nexport const clear = proxyLocalForageMethod('clear');\nexport const length = proxyLocalForageMethod('length');\nexport const key = proxyLocalForageMethod('key');\nexport const keys = proxyLocalForageMethod('keys');\nexport const iterate = proxyLocalForageMethod('iterate');\n","import { JsonRpcRequestPayload, MagicOutgoingWindowMessage, MagicIncomingWindowMessage } from '@magic-sdk/types';\nimport { createMalformedResponseError, MagicRPCError } from '../core/sdk-exceptions';\nimport type { SDKBase } from '../core/sdk';\nimport { standardizeJsonRpcRequestPayload } from '../core/json-rpc';\nimport { createPromiEvent } from '../util/promise-tools';\nimport type { ViewController } from '../core/view-controller';\nimport type { EventsDefinition } from '../util/events';\n\nexport class BaseModule {\n  constructor(protected sdk: SDKBase) {}\n\n  /**\n   * The `ViewController` for the SDK instance registered to this module.\n   */\n  protected get overlay(): ViewController {\n    return (this.sdk as any).overlay;\n  }\n\n  /**\n   * Emits promisified requests to the Magic `<iframe>` context.\n   */\n  protected request<ResultType = any, Events extends EventsDefinition = void>(payload: Partial<JsonRpcRequestPayload>) {\n    const responsePromise = this.overlay.post<ResultType>(\n      MagicOutgoingWindowMessage.MAGIC_HANDLE_REQUEST,\n      standardizeJsonRpcRequestPayload(payload),\n    );\n\n    // PromiEvent-ify the response.\n    const promiEvent = createPromiEvent<ResultType, Events>((resolve, reject) => {\n      responsePromise\n        .then((res) => {\n          cleanupEvents();\n          if (res.hasError) reject(new MagicRPCError(res.payload.error));\n          else if (res.hasResult) resolve(res.payload.result as ResultType);\n          else throw createMalformedResponseError();\n        })\n        .catch((err) => {\n          cleanupEvents();\n          reject(err);\n        });\n    });\n\n    // Listen for events from the `<iframe>` associated with the current payload\n    // and emit those to `PromiEvent` subscribers.\n    const cleanupEvents = this.overlay.on(MagicIncomingWindowMessage.MAGIC_HANDLE_EVENT, (evt) => {\n      const { response } = evt.data;\n\n      if (response.id === payload.id && response.result?.event) {\n        const { event, params = [] } = response.result;\n        promiEvent.emit(event, ...params);\n      }\n    });\n\n    return promiEvent;\n  }\n}\n","import { MagicPayloadMethod, LoginWithMagicLinkConfiguration, LoginWithSmsConfiguration } from '@magic-sdk/types';\nimport { BaseModule } from './base-module';\nimport { createJsonRpcRequestPayload } from '../core/json-rpc';\nimport { SDKEnvironment } from '../core/sdk-environment';\n\ntype LoginWithMagicLinkEvents = {\n  'email-sent': () => void;\n  'email-not-deliverable': () => void;\n  retry: () => void;\n};\n\nexport class AuthModule extends BaseModule {\n  /**\n   * Initiate the \"magic link\" login flow for a user. If the flow is successful,\n   * this method will return a Decentralized ID token (with a default lifespan\n   * of 15 minutes).\n   */\n  public loginWithMagicLink(configuration: LoginWithMagicLinkConfiguration) {\n    const { email, showUI = true, redirectURI } = configuration;\n\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LoginWithMagicLinkTestMode : MagicPayloadMethod.LoginWithMagicLink,\n      [{ email, showUI, redirectURI }],\n    );\n    return this.request<string | null, LoginWithMagicLinkEvents>(requestPayload);\n  }\n\n  /**\n   * Initiate an SMS login flow for a user. If successful,\n   * this method will return a Decenteralized ID token (with a default lifespan\n   * of 15 minutes)\n   */\n  public loginWithSMS(configuration: LoginWithSmsConfiguration) {\n    const { phoneNumber } = configuration;\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LoginWithSmsTestMode : MagicPayloadMethod.LoginWithSms,\n      [{ phoneNumber, showUI: true }],\n    );\n    return this.request<string | null>(requestPayload);\n  }\n\n  /**\n   * Log a user in with a special one-time-use credential token. This is\n   * currently used during magic link flows with a configured redirect to\n   * hydrate the user session at the end of the flow. If the flow is successful,\n   * this method will return a Decentralized ID token (with a default lifespan\n   * of 15 minutes).\n   *\n   * If no argument is provided, a credential is automatically parsed from\n   * `window.location.search`.\n   */\n  public loginWithCredential(credentialOrQueryString?: string) {\n    let credentialResolved = credentialOrQueryString ?? '';\n\n    if (!credentialOrQueryString && SDKEnvironment.platform === 'web') {\n      credentialResolved = window.location.search;\n\n      // Remove the query from the redirect callback as a precaution.\n      const urlWithoutQuery = window.location.origin + window.location.pathname;\n      window.history.replaceState(null, '', urlWithoutQuery);\n    }\n\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LoginWithCredentialTestMode : MagicPayloadMethod.LoginWithCredential,\n      [credentialResolved],\n    );\n\n    return this.request<string | null>(requestPayload);\n  }\n}\n","/* eslint-disable no-bitwise */\nexport function uuid() {\n  const u = window.crypto.getRandomValues(new Uint8Array(16));\n\n  // set the version bit to v4\n  u[6] = (u[6] & 0x0f) | 0x40;\n\n  // set the variant bit to \"don't care\" (yes, the RFC\n  // calls it that)\n  u[8] = (u[8] & 0xbf) | 0x80;\n\n  // hex encode them and add the dashes\n  let uid = '';\n  uid += u[0].toString(16);\n  uid += u[1].toString(16);\n  uid += u[2].toString(16);\n  uid += u[3].toString(16);\n  uid += '-';\n\n  uid += u[4].toString(16);\n  uid += u[5].toString(16);\n  uid += '-';\n\n  uid += u[6].toString(16);\n  uid += u[7].toString(16);\n  uid += '-';\n\n  uid += u[8].toString(16);\n  uid += u[9].toString(16);\n  uid += '-';\n\n  uid += u[10].toString(16);\n  uid += u[11].toString(16);\n  uid += u[12].toString(16);\n  uid += u[13].toString(16);\n  uid += u[14].toString(16);\n  uid += u[15].toString(16);\n\n  return uid;\n}\n","import { setItem, getItem, removeItem } from './storage';\nimport { uuid } from './uuid';\n\nexport const STORE_KEY_PRIVATE_KEY = 'STORE_KEY_PRIVATE_KEY';\nexport const STORE_KEY_PUBLIC_JWK = 'STORE_KEY_PUBLIC_JWK';\nconst ALGO_NAME = 'ECDSA';\nconst ALGO_CURVE = 'P-256';\n\nconst EC_GEN_PARAMS: EcKeyGenParams = {\n  name: ALGO_NAME,\n  namedCurve: ALGO_CURVE,\n};\nconst EC_IMPORT_PARAMS: EcKeyImportParams = {\n  name: ALGO_NAME,\n  namedCurve: ALGO_CURVE,\n};\n\nexport function clearKeys() {\n  removeItem(STORE_KEY_PUBLIC_JWK);\n  removeItem(STORE_KEY_PRIVATE_KEY);\n}\n\nexport async function createJwt() {\n  // will return undefiend is webcrypto is not supported\n  const publicJwk = await getPublicKey();\n\n  if (!publicJwk) {\n    console.info('unable to create public key or webcrypto is unsupported');\n    return undefined;\n  }\n\n  const { subtle } = window.crypto;\n  const privateJwk = await getItem<CryptoKey>(STORE_KEY_PRIVATE_KEY);\n\n  if (!privateJwk || !subtle) {\n    console.info('unable to find private key or webcrypto unsupported');\n    return undefined;\n  }\n\n  const claims = {\n    iat: Math.floor(new Date().getTime() / 1000),\n    jti: uuid(),\n  };\n\n  const headers = {\n    typ: 'dpop+jwt',\n    alg: 'ES256',\n    jwk: publicJwk,\n  };\n\n  const jws = {\n    protected: strToUrlBase64(JSON.stringify(headers)),\n    claims: strToUrlBase64(JSON.stringify(claims)),\n  };\n\n  const data = strToUint8(`${jws.protected}.${jws.claims}`);\n  const sigType = { name: ALGO_NAME, hash: { name: 'SHA-256' } };\n\n  const sig = uint8ToUrlBase64(new Uint8Array(await subtle.sign(sigType, privateJwk, data)));\n  return `${jws.protected}.${jws.claims}.${sig}`;\n}\n\nasync function getPublicKey() {\n  if (!isWebCryptoSupported()) {\n    console.info('webcrypto is not supported');\n    return undefined;\n  }\n\n  if (!(await getItem(STORE_KEY_PUBLIC_JWK))) {\n    await generateWCKP();\n  }\n\n  return getItem(STORE_KEY_PUBLIC_JWK) as JsonWebKey;\n}\n\nasync function generateWCKP() {\n  // to avoid a nasty babel bug we have to hoist this above the await ourselves\n  // https://github.com/rpetrich/babel-plugin-transform-async-to-promises/issues/20\n  let jwkPublicKey = null;\n  const { subtle } = window.crypto;\n  const kp = await subtle.generateKey(\n    EC_GEN_PARAMS,\n    true, // need to export the public key which means private exports too\n    ['sign'],\n  );\n\n  // export keys so we can send the public key.\n  const jwkPrivateKey = await subtle.exportKey('jwk', kp.privateKey!);\n  jwkPublicKey = await subtle.exportKey('jwk', kp.publicKey!);\n\n  // reimport the private key so it becomes non exportable when persisting.\n  const nonExportPrivateKey = await subtle.importKey('jwk', jwkPrivateKey, EC_IMPORT_PARAMS, false, ['sign']);\n\n  // persist keys\n  await setItem(STORE_KEY_PRIVATE_KEY, nonExportPrivateKey);\n  // persist the jwk public key since it needs to be exported anyways\n  await setItem(STORE_KEY_PUBLIC_JWK, jwkPublicKey);\n}\n\nfunction isWebCryptoSupported() {\n  const hasCrypto = typeof window !== 'undefined' && !!(window.crypto as any);\n  const hasSubtleCrypto = hasCrypto && !!(window.crypto.subtle as any);\n\n  return hasCrypto && hasSubtleCrypto;\n}\n\nfunction strToUrlBase64(str: string) {\n  return binToUrlBase64(utf8ToBinaryString(str));\n}\n\nfunction strToUint8(str: string) {\n  return new TextEncoder().encode(str);\n}\n\nfunction binToUrlBase64(bin: string) {\n  return btoa(bin).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+/g, '');\n}\n\nfunction utf8ToBinaryString(str: string) {\n  const escstr = encodeURIComponent(str);\n  // replaces any uri escape sequence, such as %0A,\n  // with binary escape, such as 0x0A\n  return escstr.replace(/%([0-9A-F]{2})/g, (_, p1) => String.fromCharCode(parseInt(p1, 16)));\n}\n\nfunction uint8ToUrlBase64(uint8: Uint8Array) {\n  let bin = '';\n  uint8.forEach((code) => {\n    bin += String.fromCharCode(code);\n  });\n  return binToUrlBase64(bin);\n}\n","import {\n  GetIdTokenConfiguration,\n  MagicPayloadMethod,\n  MagicUserMetadata,\n  GenerateIdTokenConfiguration,\n  UpdateEmailConfiguration,\n} from '@magic-sdk/types';\nimport { BaseModule } from './base-module';\nimport { createJsonRpcRequestPayload } from '../core/json-rpc';\nimport { clearKeys } from '../util/web-crypto';\n\ntype UpdateEmailEvents = {\n  'email-sent': () => void;\n  'email-not-deliverable': () => void;\n  'old-email-confirmed': () => void;\n  'new-email-confirmed': () => void;\n  retry: () => void;\n};\n\nexport class UserModule extends BaseModule {\n  /** */\n  public getIdToken(configuration?: GetIdTokenConfiguration) {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.GetIdTokenTestMode : MagicPayloadMethod.GetIdToken,\n      [configuration],\n    );\n    return this.request<string>(requestPayload);\n  }\n\n  /** */\n  public generateIdToken(configuration?: GenerateIdTokenConfiguration) {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.GenerateIdTokenTestMode : MagicPayloadMethod.GenerateIdToken,\n      [configuration],\n    );\n    return this.request<string>(requestPayload);\n  }\n\n  /** */\n  public getMetadata() {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.GetMetadataTestMode : MagicPayloadMethod.GetMetadata,\n    );\n    return this.request<MagicUserMetadata>(requestPayload);\n  }\n\n  /** */\n  public updateEmail(configuration: UpdateEmailConfiguration) {\n    const { email, showUI = true } = configuration;\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.UpdateEmailTestMode : MagicPayloadMethod.UpdateEmail,\n      [{ email, showUI }],\n    );\n    return this.request<string | null, UpdateEmailEvents>(requestPayload);\n  }\n\n  /** */\n  public isLoggedIn() {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.IsLoggedInTestMode : MagicPayloadMethod.IsLoggedIn,\n    );\n    return this.request<boolean>(requestPayload);\n  }\n\n  /** */\n  public logout() {\n    clearKeys();\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LogoutTestMode : MagicPayloadMethod.Logout,\n    );\n    return this.request<boolean>(requestPayload);\n  }\n\n  /** */\n  public showSettings() {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.UserSettingsTestMode : MagicPayloadMethod.UserSettings,\n    );\n    return this.request<MagicUserMetadata>(requestPayload);\n  }\n}\n","/* eslint-disable consistent-return, prefer-spread */\n\nimport {\n  JsonRpcRequestPayload,\n  JsonRpcRequestCallback,\n  MagicOutgoingWindowMessage,\n  JsonRpcBatchRequestCallback,\n  JsonRpcResponsePayload,\n} from '@magic-sdk/types';\nimport { BaseModule } from './base-module';\nimport { createInvalidArgumentError, MagicRPCError, createSynchronousWeb3MethodWarning } from '../core/sdk-exceptions';\nimport { createJsonRpcRequestPayload, standardizeJsonRpcRequestPayload, JsonRpcResponse } from '../core/json-rpc';\nimport { PromiEvent } from '../util/promise-tools';\nimport { createTypedEmitter, EventsDefinition, TypedEmitter } from '../util/events';\n\nconst { createBoundEmitterMethod, createChainingEmitterMethod } = createTypedEmitter();\n\n/** */\nexport class RPCProviderModule extends BaseModule implements TypedEmitter {\n  // Implements EIP 1193:\n  // https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1193.md\n\n  public readonly isMagic = true;\n\n  /* eslint-disable prettier/prettier */\n  public sendAsync(payload: Partial<JsonRpcRequestPayload>, onRequestComplete: JsonRpcRequestCallback): void;\n  public sendAsync(payload: Partial<JsonRpcRequestPayload>[], onRequestComplete: JsonRpcBatchRequestCallback): void;\n  public sendAsync(\n    payload: Partial<JsonRpcRequestPayload> | Partial<JsonRpcRequestPayload>[],\n    onRequestComplete: JsonRpcRequestCallback | JsonRpcBatchRequestCallback,\n  ): void;\n  /* eslint-enable prettier/prettier */\n  public sendAsync(\n    payload: Partial<JsonRpcRequestPayload> | Partial<JsonRpcRequestPayload>[],\n    onRequestComplete: JsonRpcRequestCallback | JsonRpcBatchRequestCallback,\n  ): void {\n    if (!onRequestComplete) {\n      throw createInvalidArgumentError({\n        procedure: 'Magic.rpcProvider.sendAsync',\n        argument: 1,\n        expected: 'function',\n        received: onRequestComplete === null ? 'null' : typeof onRequestComplete,\n      });\n    }\n\n    if (Array.isArray(payload)) {\n      this.overlay\n        .post(\n          MagicOutgoingWindowMessage.MAGIC_HANDLE_REQUEST,\n          payload.map((p) => {\n            const standardizedPayload = standardizeJsonRpcRequestPayload(p);\n            this.prefixPayloadMethodForTestMode(standardizedPayload);\n            return standardizedPayload;\n          }),\n        )\n        .then((batchResponse) => {\n          (onRequestComplete as JsonRpcBatchRequestCallback)(\n            null,\n            batchResponse.map((response) => ({\n              ...response.payload,\n              error: response.hasError ? new MagicRPCError(response.payload.error) : null,\n            })),\n          );\n        });\n    } else {\n      const finalPayload = standardizeJsonRpcRequestPayload(payload);\n      this.prefixPayloadMethodForTestMode(finalPayload);\n      this.overlay.post(MagicOutgoingWindowMessage.MAGIC_HANDLE_REQUEST, finalPayload).then((response) => {\n        (onRequestComplete as JsonRpcRequestCallback)(\n          response.hasError ? new MagicRPCError(response.payload.error) : null,\n          response.payload,\n        );\n      });\n    }\n  }\n\n  /* eslint-disable prettier/prettier */\n  public send<ResultType = any>(method: string, params?: any[]): PromiEvent<ResultType>;\n  public send(\n    payload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n    onRequestComplete: JsonRpcRequestCallback,\n  ): void;\n  public send<ResultType>(payload: JsonRpcRequestPayload, none: void): JsonRpcResponsePayload<ResultType>;\n  /* eslint-enable prettier/prettier */\n  public send<ResultType = any>(\n    payloadOrMethod: string | JsonRpcRequestPayload | JsonRpcRequestPayload[],\n    onRequestCompleteOrParams: JsonRpcRequestCallback | any[] | void,\n  ): PromiEvent<ResultType> | JsonRpcResponsePayload<ResultType> | void {\n    // Case #1\n    // Web3 >= 1.0.0-beta.38 calls `send` with method and parameters.\n    if (typeof payloadOrMethod === 'string') {\n      const payload = createJsonRpcRequestPayload(\n        payloadOrMethod,\n        Array.isArray(onRequestCompleteOrParams) ? onRequestCompleteOrParams : [],\n      );\n      return this.request(payload) as any;\n    }\n\n    // Case #2\n    // Web3 <= 1.0.0-beta.37 uses `send` with a callback for async queries.\n    if (Array.isArray(payloadOrMethod) || !!onRequestCompleteOrParams) {\n      /* eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion */\n      this.sendAsync(payloadOrMethod, onRequestCompleteOrParams as any);\n      return;\n    }\n\n    // Case #3\n    // Legacy synchronous methods (unsupported).\n    const warning = createSynchronousWeb3MethodWarning();\n    warning.log();\n    return new JsonRpcResponse(payloadOrMethod).applyError({\n      code: -32603,\n      message: warning.rawMessage,\n    }).payload;\n  }\n\n  public enable() {\n    const requestPayload = createJsonRpcRequestPayload('eth_accounts');\n    return this.request<string[]>(requestPayload);\n  }\n\n  /**\n   * Here, we wrap `BaseModule.request` with an additional check\n   * to determine if the RPC method requires a test-mode prefix.\n   */\n  protected request<ResultType = any, Events extends EventsDefinition = void>(payload: Partial<JsonRpcRequestPayload>) {\n    this.prefixPayloadMethodForTestMode(payload);\n    return super.request<ResultType, Events>(payload);\n  }\n\n  /**\n   * Prefixes Ethereum RPC methods with a `testMode` identifier. This is done so\n   * that Magic's <iframe> can handle signing methods using test-specific keys.\n   */\n  private prefixPayloadMethodForTestMode(payload: Partial<JsonRpcRequestPayload>) {\n    const testModePrefix = 'testMode/eth/';\n\n    // In test mode, we prefix all RPC methods with `test/` so that the\n    // Magic <iframe> can handle them without requiring network calls.\n    if (this.sdk.testMode) {\n      // eslint-disable-next-line no-param-reassign\n      payload.method = `${testModePrefix}${payload.method}`;\n    }\n  }\n\n  public on = createChainingEmitterMethod('on', this);\n  public once = createChainingEmitterMethod('once', this);\n  public addListener = createChainingEmitterMethod('addListener', this);\n\n  public off = createChainingEmitterMethod('off', this);\n  public removeListener = createChainingEmitterMethod('removeListener', this);\n  public removeAllListeners = createChainingEmitterMethod('removeAllListeners', this);\n\n  public emit = createBoundEmitterMethod('emit');\n  public eventNames = createBoundEmitterMethod('eventNames');\n  public listeners = createBoundEmitterMethod('listeners');\n  public listenerCount = createBoundEmitterMethod('listenerCount');\n}\n","/**\n * Builds a `URL` object safely.\n */\nexport function createURL(url: string, base?: string): URL {\n  // Safari raises an error if `undefined` is given to the second argument of\n  // the `URL` constructor.\n  return base ? new URL(url, base) : new URL(url);\n}\n","import { createJsonRpcRequestPayload, standardizeJsonRpcRequestPayload } from '../core/json-rpc';\nimport { BaseModule } from './base-module';\nimport { SDKBase, MagicSDKAdditionalConfiguration, MagicSDKExtensionsOption } from '../core/sdk';\nimport { createExtensionNotInitializedError, MagicExtensionError, MagicExtensionWarning } from '../core/sdk-exceptions';\nimport { createPromiEvent, encodeJSON, decodeJSON, storage, isPromiEvent } from '../util';\n\ntype AnonymousExtension = 'anonymous extension';\n\ninterface BaseExtension<TName extends string = AnonymousExtension> extends BaseModule {\n  /**\n   * A structure describing the platform and version compatiblity of this\n   * extension.\n   */\n  compat?: {\n    'magic-sdk': boolean | string;\n    '@magic-sdk/react-native': boolean | string;\n  };\n}\n\nconst sdkAccessFields = ['request', 'overlay', 'sdk'];\n\n/**\n * From the `BaseExtension`-derived instance, get the prototype\n * chain up to and including the `BaseModule` class.\n */\nfunction getPrototypeChain<T extends BaseExtension<string>>(instance: T) {\n  let currentProto = Object.getPrototypeOf(instance);\n  const protos = [currentProto];\n\n  while (currentProto !== BaseModule.prototype) {\n    currentProto = Object.getPrototypeOf(currentProto);\n    protos.push(currentProto);\n  }\n\n  return protos;\n}\n\nabstract class BaseExtension<TName extends string = AnonymousExtension> extends BaseModule {\n  public abstract readonly name: TName;\n\n  private __sdk_access_field_descriptors__ = new Map<\n    string,\n    { descriptor: PropertyDescriptor; isPrototypeField: boolean }\n  >();\n  private __is_initialized__ = false;\n\n  protected utils = {\n    createPromiEvent,\n    isPromiEvent,\n    encodeJSON,\n    decodeJSON,\n    createJsonRpcRequestPayload,\n    standardizeJsonRpcRequestPayload,\n    storage,\n  };\n\n  constructor() {\n    super(undefined as any);\n\n    // Disallow SDK access before initialization...\n\n    const allSources = [this, ...getPrototypeChain(this)];\n\n    sdkAccessFields.forEach((prop) => {\n      const allDescriptors = allSources.map((source) => Object.getOwnPropertyDescriptor(source, prop));\n      const sourceIndex = allDescriptors.findIndex((x) => !!x);\n      const isPrototypeField = sourceIndex > 0;\n      const descriptor = allDescriptors[sourceIndex];\n\n      /* istanbul ignore else */\n      if (descriptor) {\n        this.__sdk_access_field_descriptors__.set(prop, { descriptor, isPrototypeField });\n\n        Object.defineProperty(this, prop, {\n          configurable: true,\n          get: () => {\n            throw createExtensionNotInitializedError(prop);\n          },\n        });\n      }\n    });\n  }\n\n  /**\n   * Registers a Magic SDK instance with this Extension.\n   *\n   * @internal\n   */\n  public init(sdk: SDKBase) {\n    if (this.__is_initialized__) return;\n\n    // Replace original property descriptors\n    // for SDK access fields post-initialization.\n    sdkAccessFields.forEach((prop) => {\n      /* istanbul ignore else */\n      if (this.__sdk_access_field_descriptors__.has(prop)) {\n        const { descriptor, isPrototypeField } = this.__sdk_access_field_descriptors__.get(prop)!;\n\n        if (isPrototypeField) {\n          // For prototype fields, we just need the `delete` operator so that\n          // the instance will fallback to the prototype chain itself.\n          delete this[prop as keyof this];\n        } else {\n          Object.defineProperty(this, prop, descriptor);\n        }\n      }\n    });\n\n    this.sdk = sdk;\n    this.__is_initialized__ = true;\n  }\n\n  /**\n   * Creates a deprecation warning wrapped with a native Magic SDK warning type.\n   * Best practice is to warn users of upcoming deprecations at least one major\n   * version before the change is implemented. You can use this method to\n   * communicate deprecations in a manner consistent with Magic SDK core code.\n   */\n  protected createDeprecationWarning(options: {\n    method: string;\n    removalVersion: string;\n    useInstead?: string;\n  }): MagicExtensionWarning {\n    const { method, removalVersion, useInstead } = options;\n\n    const useInsteadSuffix = useInstead ? ` Use \\`${useInstead}\\` instead.` : '';\n    const message = `\\`${method}\\` will be removed from this Extension in version \\`${removalVersion}\\`.${useInsteadSuffix}`;\n    return new MagicExtensionWarning(this, 'DEPRECATION_NOTICE', message);\n  }\n\n  /**\n   * Creates a warning wrapped with a native Magic SDK warning type. This\n   * maintains consistency in warning messaging for consumers of Magic SDK and\n   * this Extension.\n   */\n  protected createWarning(code: string | number, message: string): MagicExtensionWarning {\n    return new MagicExtensionWarning(this, code, message);\n  }\n\n  /**\n   * Creates an error wrapped with a native Magic SDK error type. This maintains\n   * consistency in error handling for consumers of Magic SDK and this\n   * Extension.\n   */\n  protected createError<TData = any>(code: string | number, message: string, data: TData): MagicExtensionError<TData> {\n    return new MagicExtensionError<TData>(this, code, message, data);\n  }\n}\n\nabstract class InternalExtension<TName extends string, TConfig extends any = any> extends BaseExtension<TName> {\n  public abstract readonly config: TConfig;\n}\n\n/**\n * A base class representing \"extensions\" to the core Magic JS APIs. Extensions\n * enable new functionality by composing Magic endpoints methods together.\n */\nexport abstract class Extension<TName extends string = AnonymousExtension> extends BaseExtension<TName> {\n  /**\n   * This is a special constructor used to mark \"official\" extensions. These\n   * extensions are designed for special interaction with the Magic iframe using\n   * custom JSON RPC methods, business logic, and global configurations. This is\n   * intended for internal-use only (and provides no useful advantage to\n   * open-source extension developers over the regular `Extension` class).\n   *\n   * @internal\n   */\n  public static Internal = InternalExtension;\n  public static Anonymous: AnonymousExtension = 'anonymous extension';\n}\n\n/**\n * These fields are exposed on the `Extension` type,\n * but should be hidden from the public interface.\n */\ntype HiddenExtensionFields = 'name' | 'init' | 'config' | 'compat';\n\n/**\n * Gets the type contained in an array type.\n */\ntype UnwrapArray<T extends any[]> = T extends Array<infer P> ? P : never;\n\n/**\n * Create a union type of Extension names from an\n * array of Extension types given by `TExt`.\n */\ntype ExtensionNames<TExt extends Extension<string>[]> = UnwrapArray<TExt> extends Extension<infer R> ? R : never;\n\n/**\n * From the literal Extension name type given by `TExtName`,\n * extract a dictionary of Extension types.\n */\ntype GetExtensionFromName<TExt extends Extension<string>[], TExtName extends string> = {\n  [P in TExtName]: Extract<UnwrapArray<TExt>, Extension<TExtName>>;\n}[TExtName];\n\n/**\n * Wraps a Magic SDK constructor with the necessary type\n * information to support a strongly-typed `Extension` interface.\n */\nexport type WithExtensions<SDK extends SDKBase> = {\n  new <TCustomExtName extends string, TExt extends MagicSDKExtensionsOption<TCustomExtName>>(\n    apiKey: string,\n    options?: MagicSDKAdditionalConfiguration<TCustomExtName, TExt>,\n  ): InstanceWithExtensions<SDK, TExt>;\n};\n\nexport type InstanceWithExtensions<SDK extends SDKBase, TExt extends MagicSDKExtensionsOption> = SDK &\n  {\n    [P in Exclude<\n      TExt extends Extension<string>[] ? ExtensionNames<TExt> : keyof TExt,\n      number | AnonymousExtension\n    >]: TExt extends Extension<string>[]\n      ? Omit<GetExtensionFromName<TExt, P>, HiddenExtensionFields>\n      : TExt extends {\n          [P in Exclude<\n            TExt extends Extension<string>[] ? ExtensionNames<TExt> : keyof TExt,\n            number | AnonymousExtension\n          >]: Extension<string>;\n        }\n      ? Omit<TExt[P], HiddenExtensionFields>\n      : never;\n  };\n","/* eslint-disable no-param-reassign  */\n\nimport { EthNetworkConfiguration, QueryParameters, SupportedLocale } from '@magic-sdk/types';\nimport type { AbstractProvider } from 'web3-core';\nimport { coerce, satisfies } from '../util/semver';\nimport { encodeJSON } from '../util/base64-json';\nimport {\n  createMissingApiKeyError,\n  createReactNativeEndpointConfigurationWarning,\n  createIncompatibleExtensionsError,\n} from './sdk-exceptions';\nimport { AuthModule } from '../modules/auth';\nimport { UserModule } from '../modules/user';\nimport { RPCProviderModule } from '../modules/rpc-provider';\nimport { ViewController } from './view-controller';\nimport { createURL } from '../util/url';\nimport { Extension } from '../modules/base-extension';\nimport { isEmpty } from '../util/type-guards';\nimport { SDKEnvironment, sdkNameToEnvName } from './sdk-environment';\n\n/**\n * Checks if the given `ext` is compatible with the platform & version of Magic\n * SDK currently in use.\n */\nfunction checkExtensionCompat(ext: Extension<string>) {\n  if (ext.compat && ext.compat[SDKEnvironment.sdkName] != null) {\n    return typeof ext.compat[SDKEnvironment.sdkName] === 'string'\n      ? satisfies(coerce(SDKEnvironment.version), ext.compat[SDKEnvironment.sdkName] as string)\n      : !!ext.compat[SDKEnvironment.sdkName];\n  }\n\n  // To gracefully support older extensions, we assume\n  // compatibility when the `compat` field is missing.\n  return true;\n}\n\n/**\n * Initializes SDK extensions, checks for platform/version compatiblity issues,\n * then consolidates any global configurations provided by those extensions.\n */\nfunction prepareExtensions(this: SDKBase, options?: MagicSDKAdditionalConfiguration): Record<string, any> {\n  const extensions: Extension<string>[] | { [key: string]: Extension<string> } = options?.extensions ?? [];\n  const extConfig: any = {};\n  const incompatibleExtensions: Extension<string>[] = [];\n\n  if (Array.isArray(extensions)) {\n    extensions.forEach((ext) => {\n      if (checkExtensionCompat(ext)) {\n        ext.init(this);\n        if (ext.name || ext.name !== Extension.Anonymous) {\n          // Only apply extensions with a known, defined `name` parameter.\n          (this as any)[ext.name] = ext;\n        }\n        if (ext instanceof Extension.Internal) {\n          if (!isEmpty(ext.config)) extConfig[ext.name] = ext.config;\n        }\n      } else {\n        incompatibleExtensions.push(ext);\n      }\n    });\n  } else {\n    Object.keys(extensions).forEach((name) => {\n      if (checkExtensionCompat(extensions[name])) {\n        extensions[name].init(this);\n        const ext = extensions[name];\n        (this as any)[name] = ext;\n        if (ext instanceof Extension.Internal) {\n          if (!isEmpty(ext.config)) extConfig[extensions[name].name] = ext.config;\n        }\n      } else {\n        incompatibleExtensions.push(extensions[name]);\n      }\n    });\n  }\n\n  if (incompatibleExtensions.length) {\n    throw createIncompatibleExtensionsError(incompatibleExtensions);\n  }\n\n  return extConfig;\n}\n\nexport type MagicSDKExtensionsOption<TCustomExtName extends string = string> =\n  | Extension<string>[]\n  | { [P in TCustomExtName]: Extension<string> };\n\nexport interface MagicSDKAdditionalConfiguration<\n  TCustomExtName extends string = string,\n  TExt extends MagicSDKExtensionsOption<TCustomExtName> = any,\n> {\n  endpoint?: string;\n  locale?: SupportedLocale;\n  network?: EthNetworkConfiguration;\n  extensions?: TExt;\n  testMode?: boolean;\n}\n\nexport class SDKBase {\n  private static readonly __overlays__: Map<string, ViewController> = new Map();\n\n  protected readonly endpoint: string;\n  protected readonly parameters: string;\n  public readonly testMode: boolean;\n\n  /**\n   * Contains methods for starting a Magic SDK authentication flow.\n   */\n  public readonly auth: AuthModule;\n\n  /**\n   * Contains methods for interacting with user data, checking login\n   * status, generating cryptographically-secure ID tokens, and more.\n   */\n  public readonly user: UserModule;\n\n  /**\n   * Contains a Web3-compliant provider. Pass this module to your Web3/Ethers\n   * instance for automatic compatibility with Ethereum methods.\n   */\n  public readonly rpcProvider: RPCProviderModule & AbstractProvider;\n\n  /**\n   * Creates an instance of Magic SDK.\n   */\n  constructor(public readonly apiKey: string, options?: MagicSDKAdditionalConfiguration) {\n    if (!apiKey) throw createMissingApiKeyError();\n\n    if (SDKEnvironment.platform === 'react-native' && options?.endpoint) {\n      createReactNativeEndpointConfigurationWarning().log();\n    }\n\n    const { defaultEndpoint, version } = SDKEnvironment;\n    this.testMode = !!options?.testMode;\n    this.endpoint = createURL(options?.endpoint ?? defaultEndpoint).origin;\n\n    // Prepare built-in modules\n    this.auth = new AuthModule(this);\n    this.user = new UserModule(this);\n    this.rpcProvider = new RPCProviderModule(this) as any;\n\n    // Prepare extensions\n    const extConfig: any = prepareExtensions.call(this, options);\n\n    // Encode parameters as base64-JSON\n    this.parameters = encodeJSON<QueryParameters>({\n      API_KEY: this.apiKey,\n      DOMAIN_ORIGIN: window.location ? window.location.origin : '',\n      ETH_NETWORK: options?.network,\n      host: createURL(this.endpoint).host,\n      sdk: sdkNameToEnvName[SDKEnvironment.sdkName],\n      version,\n      ext: isEmpty(extConfig) ? undefined : extConfig,\n      locale: options?.locale || 'en_US',\n    });\n  }\n\n  /**\n   * Represents the view controller associated with this `MagicSDK` instance.\n   */\n  protected get overlay(): ViewController {\n    if (!SDKBase.__overlays__.has(this.parameters)) {\n      const controller = new SDKEnvironment.ViewController(this.endpoint, this.parameters);\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore - We don't want to expose this method to the user, but we\n      // need to invoke in here so that the `ViewController` is ready for use.\n      controller.init();\n\n      SDKBase.__overlays__.set(this.parameters, controller);\n    }\n\n    return SDKBase.__overlays__.get(this.parameters)!;\n  }\n\n  /**\n   * Preloads the Magic view, allowing for faster initial requests in browser\n   * environments. Awaiting the returned promise will signal when the Magic view\n   * has completed loading and is ready for requests.\n   */\n  public async preload() {\n    await this.overlay.ready;\n  }\n}\n","import {\n  MagicIncomingWindowMessage,\n  MagicOutgoingWindowMessage,\n  JsonRpcRequestPayload,\n  MagicMessageEvent,\n  MagicMessageRequest,\n} from '@magic-sdk/types';\nimport { JsonRpcResponse } from './json-rpc';\nimport { createPromise } from '../util/promise-tools';\nimport { getItem, setItem } from '../util/storage';\nimport { createJwt } from '../util/web-crypto';\nimport { SDKEnvironment } from './sdk-environment';\n\ninterface RemoveEventListenerFunction {\n  (): void;\n}\n\ninterface StandardizedResponse {\n  id?: string | number;\n  response?: JsonRpcResponse;\n}\n\n/**\n * Get the originating payload from a batch request using the specified `id`.\n */\nfunction getRequestPayloadFromBatch(\n  requestPayload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n  id?: string | number | null,\n): JsonRpcRequestPayload | undefined {\n  return id && Array.isArray(requestPayload)\n    ? requestPayload.find((p) => p.id === id)\n    : (requestPayload as JsonRpcRequestPayload);\n}\n\n/**\n * Ensures the incoming response follows the expected schema and parses for a\n * JSON RPC payload ID.\n */\nfunction standardizeResponse(\n  requestPayload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n  event: MagicMessageEvent,\n): StandardizedResponse {\n  const id = event.data.response?.id;\n  const requestPayloadResolved = getRequestPayloadFromBatch(requestPayload, id);\n\n  if (id && requestPayloadResolved) {\n    // Build a standardized response object\n    const response = new JsonRpcResponse(requestPayloadResolved)\n      .applyResult(event.data.response.result)\n      .applyError(event.data.response.error);\n\n    return { id, response };\n  }\n\n  return {};\n}\n\nasync function createMagicRequest(msgType: string, payload: JsonRpcRequestPayload | JsonRpcRequestPayload[]) {\n  const rt = await getItem<string>('rt');\n  let jwt;\n\n  // only for webcrypto platforms\n  if (SDKEnvironment.platform === 'web') {\n    try {\n      jwt = await createJwt();\n    } catch (e) {\n      console.error('webcrypto error', e);\n    }\n  }\n\n  if (!jwt) {\n    return { msgType, payload };\n  }\n\n  if (!rt) {\n    return { msgType, payload, jwt };\n  }\n\n  return { msgType, payload, jwt, rt };\n}\n\nasync function persistMagicEventRefreshToken(event: MagicMessageEvent) {\n  if (!event.data.rt) {\n    return;\n  }\n\n  await setItem('rt', event.data.rt);\n}\n\nexport abstract class ViewController {\n  public ready: Promise<void>;\n  protected readonly messageHandlers = new Set<(event: MagicMessageEvent) => any>();\n\n  /**\n   * Create an instance of `ViewController`\n   *\n   * @param endpoint - The URL for the relevant iframe context.\n   * @param parameters - The unique, encoded query parameters for the\n   * relevant iframe context.\n   */\n  constructor(protected readonly endpoint: string, protected readonly parameters: string) {\n    this.ready = this.waitForReady();\n    this.listen();\n  }\n\n  protected abstract init(): void;\n  protected abstract _post(data: MagicMessageRequest): Promise<void>;\n  protected abstract hideOverlay(): void;\n  protected abstract showOverlay(): void;\n\n  /**\n   * Send a payload to the Magic `<iframe>` for processing and automatically\n   * handle the acknowledging follow-up event(s).\n   *\n   * @param msgType - The type of message to encode with the data.\n   * @param payload - The JSON RPC payload to emit via `window.postMessage`.\n   */\n  public async post<ResultType = any>(\n    msgType: MagicOutgoingWindowMessage,\n    payload: JsonRpcRequestPayload[],\n  ): Promise<JsonRpcResponse<ResultType>[]>;\n\n  public async post<ResultType = any>(\n    msgType: MagicOutgoingWindowMessage,\n    payload: JsonRpcRequestPayload,\n  ): Promise<JsonRpcResponse<ResultType>>;\n\n  public async post<ResultType = any>(\n    msgType: MagicOutgoingWindowMessage,\n    payload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n  ): Promise<JsonRpcResponse<ResultType> | JsonRpcResponse<ResultType>[]> {\n    return createPromise(async (resolve) => {\n      await this.ready;\n\n      const batchData: JsonRpcResponse[] = [];\n      const batchIds = Array.isArray(payload) ? payload.map((p) => p.id) : [];\n      const msg = await createMagicRequest(`${msgType}-${this.parameters}`, payload);\n\n      await this._post(msg);\n\n      /**\n       * Collect successful RPC responses and resolve.\n       */\n      const acknowledgeResponse = (removeEventListener: RemoveEventListenerFunction) => (event: MagicMessageEvent) => {\n        const { id, response } = standardizeResponse(payload, event);\n        persistMagicEventRefreshToken(event);\n\n        if (id && response && Array.isArray(payload) && batchIds.includes(id)) {\n          batchData.push(response);\n\n          // For batch requests, we wait for all responses before resolving.\n          if (batchData.length === payload.length) {\n            removeEventListener();\n            resolve(batchData);\n          }\n        } else if (id && response && !Array.isArray(payload) && id === payload.id) {\n          removeEventListener();\n          resolve(response);\n        }\n      };\n\n      // Listen for and handle responses.\n      const removeResponseListener = this.on(\n        MagicIncomingWindowMessage.MAGIC_HANDLE_RESPONSE,\n        acknowledgeResponse(() => removeResponseListener()),\n      );\n    });\n  }\n\n  /**\n   * Listen for events received with the given `msgType`.\n   *\n   * @param msgType - The `msgType` encoded with the event data.\n   * @param handler - A handler function to execute on each event received.\n   * @return A `void` function to remove the attached event.\n   */\n  public on(\n    msgType: MagicIncomingWindowMessage,\n    handler: (this: Window, event: MagicMessageEvent) => any,\n  ): RemoveEventListenerFunction {\n    const boundHandler = handler.bind(window);\n\n    // We cannot effectively cover this function because it never gets reference\n    // by value. The functionality of this callback is tested within\n    // `initMessageListener`.\n    /* istanbul ignore next */\n    const listener = (event: MagicMessageEvent) => {\n      if (event.data.msgType === `${msgType}-${this.parameters}`) boundHandler(event);\n    };\n\n    this.messageHandlers.add(listener);\n    return () => this.messageHandlers.delete(listener);\n  }\n\n  private waitForReady() {\n    return new Promise<void>((resolve) => {\n      this.on(MagicIncomingWindowMessage.MAGIC_OVERLAY_READY, () => resolve());\n    });\n  }\n\n  /**\n   * Listen for messages sent from the underlying Magic `<WebView>`.\n   */\n  private listen() {\n    this.on(MagicIncomingWindowMessage.MAGIC_HIDE_OVERLAY, () => {\n      this.hideOverlay();\n    });\n\n    this.on(MagicIncomingWindowMessage.MAGIC_SHOW_OVERLAY, () => {\n      this.showOverlay();\n    });\n  }\n}\n"],"names":["runtime","exports","undefined","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","generator","create","Generator","context","Context","_invoke","state","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","GenStateSuspendedYield","makeInvokeMethod","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","this","callInvokeWithMethodAndArg","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","SEMVER_SPEC_VERSION","r","constants","MAX_LENGTH","MAX_SAFE_INTEGER","Number","MAX_SAFE_COMPONENT_LENGTH","debug_1","process","env","NODE_DEBUG","test","console","re_1","e","t","s","re","src","o","a","n","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","numeric","MAX_LENGTH$1","re$4","t$4","compareIdentifiers","SemVer","loose","includePrerelease","version","options","trim","match","LOOSE","FULL","raw","major","minor","patch","prerelease","split","map","build","format","join","toString","compare","compareMain","comparePre","compareBuild","inc","compare_1","cmp_1","eq_1","neq_1","gt_1","gte_1","lt_1","lte_1","ANY","Comparator","parse","semver","operator","re$3","t$3","COMPARATORLOOSE","COMPARATOR","intersects","Range","set","_this","parseRange","filter","range","replace","re$2","t$2","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","TILDETRIM","CARETTRIM","parseComparator","_this2","replaceGTE0","some","isSatisfiable","every","testSet","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","toLowerCase","replaceTilde","TILDELOOSE","TILDE","replaceCaret","CARETLOOSE","CARET","replaceXRange","XRANGELOOSE","XRANGE","E","p","l","STAR","GTE0PRE","GTE0","c","$","h","re$1","t$1","percentToByte","String","fromCharCode","parseInt","byteToPercent","b","charCodeAt","encodeJSON","str","JSON","stringify","btoa","encodeURIComponent","decodeJSON","queryString","decodeURIComponent","Array","from","atob","isUndefined","isNil","isNull","isJsonRpcResponsePayload","jsonrpc","id","isJsonRpcErrorCode","RPCErrorCode","includes","isEmpty","SDKEnvironment","sdkNameToEnvName","MagicSDKError","code","rawMessage","MagicRPCError","sourceError","codeNormalized","message","InternalError","MagicSDKWarning","log","warn","MagicExtensionError","ext","data","_this3","MagicExtensionWarning","createMissingApiKeyError","SDKErrorCode","MissingApiKey","createMalformedResponseError","MalformedResponse","createExtensionNotInitializedError","member","ExtensionNotInitialized","createIncompatibleExtensionsError","extensions","msg","sdkName","compat","platform","IncompatibleExtensions","createInvalidArgumentError","iAdjusted","j","k","InvalidArgument","argument","procedure","expected","received","createSynchronousWeb3MethodWarning","SDKWarningCode","SyncWeb3Method","createReactNativeEndpointConfigurationWarning","ReactNativeEndpointConfiguration","defaultEndpoint","createIntGenerator","index","intGenerator","getPayloadId","payloadPreprocessedSymbol","markPayloadAsPreprocessed","payload","standardizeJsonRpcRequestPayload","isPayloadPreprocessed","params","createJsonRpcRequestPayload","JsonRpcResponse","responseOrPayload","_jsonrpc","_id","_result","_error","applyError","applyResult","TypedEmitter","has","prefix","Events","EE","once","addListener","emitter","event","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","getOwnPropertySymbols","concat","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","arguments","removeListener","apply","on","removeAllListeners","off","prefixed","createTypedEmitter","createChainingEmitterMethod","source","createBoundEmitterMethod","promiEventBrand","isPromiEvent","createPromiEvent","executor","promise","createPromise","thenSymbol","catchSymbol","finallySymbol","createChainingPromiseMethod","nextPromise","promiEvent","assign","resolved","lf","BaseModule","sdk","request","responsePromise","overlay","post","MagicOutgoingWindowMessage","MAGIC_HANDLE_REQUEST","res","cleanupEvents","hasError","hasResult","MagicIncomingWindowMessage","MAGIC_HANDLE_EVENT","response","_response$result","AuthModule","loginWithMagicLink","configuration","showUI","requestPayload","testMode","MagicPayloadMethod","LoginWithMagicLinkTestMode","LoginWithMagicLink","email","redirectURI","loginWithSMS","LoginWithSmsTestMode","LoginWithSms","phoneNumber","loginWithCredential","credentialOrQueryString","credentialResolved","window","location","search","urlWithoutQuery","origin","pathname","history","replaceState","LoginWithCredentialTestMode","LoginWithCredential","proxyLocalForageMethod","ready","configureStorage","getItem","setItem","removeItem","clear","iterate","uuid","u","crypto","getRandomValues","Uint8Array","uid","createJwt","hasSubtleCrypto","hasCrypto","subtle","STORE_KEY_PUBLIC_JWK","jwkPublicKey","generateKey","EC_GEN_PARAMS","kp","exportKey","privateKey","jwkPrivateKey","publicKey","importKey","EC_IMPORT_PARAMS","nonExportPrivateKey","STORE_KEY_PRIVATE_KEY","generateWCKP","getPublicKey","publicJwk","privateJwk","claims","iat","Math","floor","Date","getTime","jti","jws","strToUrlBase64","typ","alg","jwk","TextEncoder","encode","sign","ALGO_NAME","hash","uint8","bin","sig","binToUrlBase64","namedCurve","clearKeys","_","p1","utf8ToBinaryString","UserModule","getIdToken","GetIdTokenTestMode","GetIdToken","generateIdToken","GenerateIdTokenTestMode","GenerateIdToken","getMetadata","GetMetadataTestMode","GetMetadata","updateEmail","UpdateEmailTestMode","UpdateEmail","isLoggedIn","IsLoggedInTestMode","IsLoggedIn","logout","LogoutTestMode","Logout","showSettings","UserSettingsTestMode","UserSettings","RPCProviderModule","isMagic","sendAsync","onRequestComplete","isArray","standardizedPayload","prefixPayloadMethodForTestMode","batchResponse","finalPayload","send","payloadOrMethod","onRequestCompleteOrParams","warning","enable","createURL","url","base","URL","sdkAccessFields","BaseExtension","__sdk_access_field_descriptors__","Map","__is_initialized__","utils","storage","allSources","instance","currentProto","protos","getPrototypeChain","prop","allDescriptors","getOwnPropertyDescriptor","sourceIndex","findIndex","x","descriptor","isPrototypeField","get","init","createDeprecationWarning","useInstead","removalVersion","createWarning","createError","InternalExtension","Extension","checkExtensionCompat","satisfies","rtl","COERCERTL","exec","lastIndex","parse_1","coerce","prepareExtensions","extConfig","incompatibleExtensions","Anonymous","Internal","config","SDKBase","apiKey","endpoint","parameters","auth","user","rpcProvider","API_KEY","DOMAIN_ORIGIN","ETH_NETWORK","network","host","locale","preload","__overlays__","controller","ViewController","messageHandlers","Set","waitForReady","listen","msgType","batchData","batchIds","rt","jwt","createMagicRequest","_post","removeEventListener","removeResponseListener","MAGIC_HANDLE_RESPONSE","_event$data$response","requestPayloadResolved","find","getRequestPayloadFromBatch","standardizeResponse","persistMagicEventRefreshToken","handler","boundHandler","bind","add","_this4","MAGIC_OVERLAY_READY","MAGIC_HIDE_OVERLAY","_this5","hideOverlay","MAGIC_SHOW_OVERLAY","showOverlay","DeprecationNotice","removalVersions","DuplicateIframe","ModalNotReady","SDKBaseCtor","environment"],"mappings":"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"}